(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9212a18"],{"0857":function(t,e,i){"use strict";i("5205")},"4a58":function(t,e,i){},5205:function(t,e,i){},"55f3":function(t,e,i){"use strict";i("c87f")},"74cc":function(t,e,i){"use strict";i("4a58")},"7e0d":function(t,e,i){"use strict";i("9460")},"91ea":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"first-board-nav"},[i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"home"},[i("a",{attrs:{href:"#"}},[t._v("Домой")])])]),i("div",{staticClass:"name",attrs:{href:"#"}},[i("a",{class:{hidden:t.first},attrs:{href:"#"},on:{click:function(e){t.first=!0,t.showInput()}}},[i("h1",[t._v(" "+t._s(t.BOARD.title)+" ")])]),i("span",{attrs:{id:"hide"}}),i("input",{attrs:{id:"txt",type:"hidden"},on:{blur:function(e){t.first=!1,t.hideInput(),t.renameBoard()},keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.hideInput(),t.first=!1,t.renameBoard()}}})]),i("div",{staticClass:"delete_board"},[i("router-link",{attrs:{to:"/"}},[i("a",{staticStyle:{padding:"5px"},on:{click:function(e){return t.removeBoard()}}},[t._v("Удалить доску")])])],1)],1),i("div",{staticClass:"element"},[t._l(t.BOARD.lists,(function(t){return i("List",{key:t.title,attrs:{list_data:t,cards:t.cards}})})),i("AddList")],2)])},n=[],s=i("1da1"),d=i("5530"),r=(i("96cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dont"},[i("div",{staticClass:"title"},[i("h2",{class:{hidden:t.listTitle},on:{click:function(e){t.listCrest=!0,t.listTitle=!0,t.listInput=!1,t.showTitle()}}},[t._v(" "+t._s(t.list_data.title)+" ")]),i("span",{class:{hidden:t.listCrest},on:{click:function(e){return t.removeList()}}},[t._v("✖")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"change",type:"hidden"},domProps:{value:t.title},on:{blur:function(e){t.changeListTitle(),t.listInput=!0,t.listCrest=!1,t.listTitle=!1},keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.changeListTitle(),t.listInput=!0,t.listCrest=!1,t.listTitle=!1},input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._l(t.cards,(function(e){return i("Card",{key:e.id,attrs:{card_data:e,list:t.list_data}})})),i("AddCard",{attrs:{list:t.list_data}})],2)}),c=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main",on:{mouseover:function(e){t.hoverCard=!1},mouseout:function(e){t.hoverCard=!0}}},[i("div",{staticClass:"second",class:{hidden:t.second},on:{click:function(e){t.second=!0,t.showInput(),t.span=!0}}},[i("p",[t._v(" "+t._s(t.card_data.title)+" ")])]),i("div",{staticClass:"crest",class:{hidden:t.span}},[i("span",{ref:"close",class:{hidden:t.hoverCard}},[t._v("✖")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"myInput",attrs:{id:"card",type:"hidden",value:"card_data.title"},domProps:{value:t.title},on:{blur:function(e){t.Change(),t.second=!1,t.hideInput(),t.span=!1},keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.Change(),t.second=!1,t.hideInput(),t.span=!1},input:function(e){e.target.composing||(t.title=e.target.value)}}})])},l=[],u=i("2f62"),f={mounted:function(){var t=this;document.addEventListener("click",(function(e){e.target===t.$refs.close&&t.deleteCard()}))},name:"Card",data:function(){return{hoverCard:!0,second:!1,span:!1,title:this.card_data.title}},props:{card_data:{type:Object,default:function(){return{}}},list:{type:Object,default:function(){return{}}}},methods:Object(d["a"])(Object(d["a"])({},Object(u["b"])(["DELETE_CARD","GET_BOARD","RENAME_CARD"])),{},{Change:function(){if(""!==this.title){this.RENAME_CARD({boardId:this.$route.params.board_id,cardId:this.card_data.id,data:{title:this.title,list_id:this.list.id}}),this.GET_BOARD(this.$route.params.board_id);var t=document.querySelector("#card");t.type="hidden"}},deleteCard:function(){this.DELETE_CARD({boardId:this.$route.params.board_id,cardId:this.card_data.id}),this.GET_BOARD(this.$route.params.board_id)},showInput:function(){var t=document.querySelector("#card");t.type="text",t.select()},hideInput:function(){}})},h=f,p=(i("7e0d"),i("2877")),m=Object(p["a"])(h,o,l,!1,null,"ec5ac206",null),_=m.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"addNew",class:{hidden:t.addCard}},[i("a",{attrs:{href:"#"},on:{click:function(e){t.isHidden=!1,t.addCard=!0,t.showInput()}}},[i("p",[t._v("+ Добавить карточку")])])]),i("div",{staticClass:"area",class:{hidden:t.isHidden}},[i("div",{staticClass:"textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{name:"",id:"cardName",placeholder:"Введите название карточки"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),i("div",{staticClass:"controls"},[i("input",{attrs:{type:"submit",value:"Добавить карточку"},on:{click:function(e){t.createCard(),t.isHidden=!0,t.addCard=!1}}}),i("a",{attrs:{href:"#"},on:{click:function(e){t.isHidden=!0,t.addCard=!1}}},[t._v("×")])])])])},E=[],b={name:"AddCard",props:["list"],data:function(){return{title:"",isHidden:!0,addCard:!1}},methods:Object(d["a"])(Object(d["a"])({},Object(u["b"])(["CREATE_CARD","GET_BOARD"])),{},{showInput:function(){document.querySelector("textarea").focus()},createCard:function(){this.CREATE_CARD({boardId:this.$route.params.board_id,data:{title:this.title,list_id:this.list.id,position:1}}),this.GET_BOARD(this.$route.params.board_id),this.title=""}}),mounted:function(){document.querySelector("textarea").focus()}},C=b,O=(i("74cc"),Object(p["a"])(C,v,E,!1,null,"65bd780e",null)),y=O.exports,A={name:"List",props:{list_data:{type:Object,default:function(){return{}}},cards:Object},components:{Card:_,AddCard:y},data:function(){return{listInput:!0,listTitle:!1,listCrest:!1,title:this.list_data.title}},methods:Object(d["a"])(Object(d["a"])({},Object(u["b"])(["DELETE_LIST","GET_BOARD","RENAME_LIST"])),{},{showTitle:function(){var t=document.querySelector("#change");t.type="text",t.select()},changeListTitle:function(){var t=document.querySelector("#change");this.RENAME_LIST({boardId:this.$route.params.board_id,listId:this.list_data.id,data:{title:t.value,position:1}}),t.type="hidden",this.GET_BOARD(this.$route.params.board_id)},removeList:function(){this.DELETE_LIST({boardId:this.$route.params.board_id,listId:this.list_data.id}),this.GET_BOARD(this.$route.params.board_id)}})},I=A,R=(i("0857"),Object(p["a"])(I,r,c,!1,null,"476192bc",null)),T=R.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"second",class:{hidden:t.addList}},[i("a",{attrs:{href:"#"},on:{click:function(e){t.addList=!0,t.isHidden=!1,t.showInput()}}},[i("p",[t._v("+ Добавить список")])])]),i("div",{staticClass:"area",class:{hidden:t.isHidden}},[i("div",{staticClass:"textarea"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.addNewList()}}},[i("input",{attrs:{type:"text",id:"listName",placeholder:"Введите название списка"}}),i("div",{staticClass:"controls"},[i("input",{attrs:{type:"submit",value:"Добавить список"}}),i("a",{attrs:{href:"#"},on:{click:function(e){t.isHidden=!0,t.addList=!1}}},[t._v("×")])])])])])])},k=[],B={name:"AddList",data:function(){return{addList:!1,isHidden:!0}},methods:Object(d["a"])(Object(d["a"])({showInput:function(){var t=document.getElementById("listName");t.focus()}},Object(u["b"])(["CREATE_LIST","GET_BOARD"])),{},{addNewList:function(){var t=document.getElementById("listName");this.CREATE_LIST({id:this.$route.params.board_id,data:{title:t.value,position:1}}),t.value="",this.GET_BOARD(this.$route.params.board_id),console.log("u")}})},L=B,g=(i("55f3"),Object(p["a"])(L,D,k,!1,null,"5c4f4c38",null)),x=g.exports,j={data:function(){return{first:!1}},name:"Board",computed:Object(d["a"])({},Object(u["c"])(["BOARD","BOARDS"])),mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.GET_BOARD(t.$route.params.board_id);case 1:case"end":return e.stop()}}),e)})))()},components:{List:T,AddList:x},methods:Object(d["a"])(Object(d["a"])({},Object(u["b"])(["GET_BOARD","DELETE_BOARD","RENAME_BOARD","CREATE_LIST"])),{},{removeBoard:function(){this.DELETE_BOARD(this.$route.params.board_id)},renameBoard:function(){var t=document.getElementById("txt"),e=this.$route.params.board_id,i={title:t.value};this.RENAME_BOARD({id:e,data:i}),this.GET_BOARD(this.$route.params.board_id)},showInput:function(){var t=document.getElementById("hide"),e=document.getElementById("txt");function i(){t.textContent=e.value,e.style.width="".concat(t.offsetWidth+6,"px")}e.addEventListener("input",i),e.value=this.BOARD.title,i(),e.type="text",e.select()},hideInput:function(){var t=document.getElementById("txt");t.type="hidden"}})},w=j,$=(i("fe76"),Object(p["a"])(w,a,n,!1,null,"f4f565b6",null));e["default"]=$.exports},9460:function(t,e,i){},ae04:function(t,e,i){},c87f:function(t,e,i){},fe76:function(t,e,i){"use strict";i("ae04")}}]);
//# sourceMappingURL=chunk-f9212a18.447ba6a7.js.map